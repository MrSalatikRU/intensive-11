# Задание №3

В качестве облачной платформы был выбран `Yandex Cloud` \
В качестве сервиса взаимодействия `Telegram`

# Запуск
> [!CAUTION]
> Версия `Python: 3.11`

Для запуска сервиса необходимо создать `.env` файл в рабочей директории и вписать в него поля:

```bash
BOT_TOKEN = <токен telegram бота>
OAUTH_TOKEN = <Яндекс OAuth-токен>
```

Установить зависимости

```bash
python3.11 -m pip install -r requirements.txt
```

После чего запустить файл `ya_cloud.py`

```bash
python3.11 ya_cloud.py 
```

# Подключение Yandex Cloud
Необходимо перейти на страницу [Yandex Cloud](https://yandex.cloud/) и пройти авторизацию. \
Для запуска виртуальных машин необходимо создать платежный аккаунт, если создавать его в первый раз, будет начислен грант 1000 рублей для работу вирутальных машин, на первое время хватит 

Далее необходимо создать облако, папку и в ней уже можно создавать вирутальные машины, все действия можно найти в официальной [Документации](https://yandex.cloud/ru/docs/iam/quickstart-overview)

## Создание вируальных машин
При [создании вируальной машины](https://yandex.cloud/ru/docs/compute/quickstart/quick-create-linux) в поле `Дополнительные настройки` можно задавать метрики. Например нужное нам `expired_date:дд.мм.гггг`

## Работа с API
Для выполнения запросов через [API](https://yandex.cloud/ru/docs/iam/api-ref/) необходимо получить [OAuth-токен](https://yandex.cloud/ru/docs/iam/concepts/authorization/oauth-token)

> [!IMPORTANT]
> Получить его можно с помощью запроса к сервису [Яндекс OAuth](https://oauth.yandex.ru/authorize?response_type=token&client_id=1a6990aa636648e9b2ef855fa7bec2fb)

# Telegram
Работа осуществляется через telegram бота.
> [!IMPORTANT]
> Необходимо создать телеграм бота и сохранить его токен

# Команды
При вводе произволного текста выводиться подсказки

`/info` - выводит информацию о подключенной организации \
`/instances` - выводит информацию обо всех имеющихся виртуальных машинах \
`/check_expired` - выводит информацию обо всех машинах, которые должны быть отключены, и дает возможность их отключить \
`/auto_shutdown` - дает возможность влючать/отключать и настраивать автоматическое отключение машин
